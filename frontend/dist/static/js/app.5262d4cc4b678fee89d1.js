webpackJsonp([1],{"2LDH":function(t,e){},"56RO":function(t,e){},"6oFO":function(t,e){},"6xN0":function(t,e){},F7Qs:function(t,e){},KeIM:function(t,e){},MkFq:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("rflr"),a=n.n(r),s=n("xd7I"),o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("header",[e("h1",[this._v("Docker Monitor Platform")])])}]};var i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("aside",[n("el-menu",{staticClass:"aside-menu",attrs:{"default-active":"home","background-color":"#484D51","text-color":"#fff",router:!0,"active-text-color":"#5296CF"}},[n("el-menu-item",{attrs:{index:"home"}},[n("i",{staticClass:"el-icon-location-outline"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("首页")])]),t._v(" "),n("el-menu-item",{attrs:{index:"containers"}},[n("i",{staticClass:"el-icon-more-outline"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Containers")])]),t._v(" "),n("el-menu-item",{attrs:{index:"services"}},[n("i",{staticClass:"el-icon-tickets"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Services")])]),t._v(" "),n("el-menu-item",{attrs:{index:"stacks"}},[n("i",{staticClass:"el-icon-document"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Stacks")])]),t._v(" "),n("el-menu-item",{attrs:{index:"swarm"}},[n("i",{staticClass:"el-icon-news"}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("Swarm")])])],1)],1)},staticRenderFns:[]};var c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"main"},[e("router-view")],1)},staticRenderFns:[]};var l={components:{MHeader:n("C7Lr")(null,o,!1,function(t){n("6xN0")},null,null).exports,MAside:n("C7Lr")(null,i,!1,function(t){n("PFFC")},null,null).exports,MMain:n("C7Lr")(null,c,!1,function(t){n("VHI3")},null,null).exports}},u={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("m-header"),this._v(" "),e("div",{staticClass:"container"},[e("m-aside"),this._v(" "),e("m-main")],1)],1)},staticRenderFns:[]};var d=n("C7Lr")(l,u,!1,function(t){n("2LDH")},null,null).exports,p=n("KGCO"),m=n("lC5x"),v=n.n(m),h=n("rVsN"),f=n.n(h),_=n("KH7x"),b=n.n(_),g=n("J0Oq"),w=n.n(g),k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"nodes-list"},[e("section",{staticClass:"card"},[e("h3",{staticClass:"sub-title"},[this._v("主机列表")]),this._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:this.endpointList}},[e("el-table-column",{attrs:{type:"selection"}}),this._v(" "),e("el-table-column",{attrs:{prop:"name",label:"Name","show-overflow-tooltip":!0}}),this._v(" "),e("el-table-column",{attrs:{prop:"dockerUrl",label:"Docker Url",width:"300"}}),this._v(" "),e("el-table-column",{attrs:{prop:"promUrl",label:"Promethus Url",width:"300"}})],1)],1)])},staticRenderFns:[]};var C=n("C7Lr")({props:["endpointList"]},k,!1,function(t){n("KeIM")},null,null).exports,y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"base-info"},t._l(t.info,function(e,r){return n("li",{key:r},[n("div",{staticClass:"name"},[t._v(t._s(r))]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(e))])])}),0)},staticRenderFns:[]};var x={props:["endpointInfo"],components:{Info:n("C7Lr")({props:["info"],computed:{},methods:{}},y,!1,function(t){n("56RO")},null,null).exports},methods:{}},S={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"endpoint-info"},[n("section",{staticClass:"card"},[n("h3",{staticClass:"sub-title"},[t._v("当前主机信息")]),t._v(" "),n("div",{staticClass:"endpoint-info-main"},[n("ul",{staticClass:"endpoint-info-base"},t._l(t.endpointInfo,function(e,r){return n("li",{key:r},[n("div",{staticClass:"name"},[t._v(t._s(r))]),t._v(" "),n("div",{staticClass:"value"},[t._v(t._s(e))])])}),0),t._v(" "),t._m(0)])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"endpoint-info-count"},[n("li",[n("div",[t._v("1")]),t._v("Stacks")]),t._v(" "),n("li",[n("div",[t._v("9")]),t._v("Services")]),t._v(" "),n("li",[n("div",[t._v("9")]),t._v("Containers")]),t._v(" "),n("li",[n("div",[t._v("8")]),t._v("Images")])])}]};var I=n("C7Lr")(x,S,!1,function(t){n("Z+Qt")},null,null).exports,L={props:["endpoint","containersWithHignNetIO","containersWithHignDiskIO","containersWithHighCPUUsage","containersWithHighMemoryUsage"],data:function(){return{monitorType:"metrics",dockerMonitorCategory:"containersWithHignNetIO"}},computed:{tableData:function(){return this.$props[this.dockerMonitorCategory]},promUrl:function(){var t=this.$props.endpoint;if(!t)return null;var e=t.promUrl.split(":"),n=e[e.length-2];return this.$props.grafanaUrl||n+":3000"},promNodeUrl:function(){return"http://"+this.promUrl+"/d/BPlb-Sgik/docker-swarm-nodes?refresh=30s&orgId=1"},promServiceUrl:function(){return"http://"+this.promUrl+"/d/zr_baSRmk/docker-swarm-services?refresh=30s&orgId=1"}},methods:{handleMonitorTypeChange:function(t){},handleDockerMonitorCategoryChange:function(t){this.tableData=this.$props[t.name]}}},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"monitor-summary"},[n("section",{staticClass:"card"},[n("h3",{staticClass:"sub-title"},[t._v("监控")]),t._v(" "),n("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.handleMonitorTypeChange},model:{value:t.monitorType,callback:function(e){t.monitorType=e},expression:"monitorType"}},[n("el-tab-pane",{staticStyle:{padding:"0 16px"},attrs:{label:"  指标监控  ",name:"metrics"}},[n("el-tabs",{attrs:{de:""},on:{"tab-click":t.handleDockerMonitorCategoryChange},model:{value:t.dockerMonitorCategory,callback:function(e){t.dockerMonitorCategory=e},expression:"dockerMonitorCategory"}},[n("el-tab-pane",{attrs:{label:"高网络IO容器",name:"containersWithHignNetIO"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"高磁盘IO容器",name:"containersWithHignDiskIO"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"高CPU使用容器",name:"containersWithHighCPUUsage"}}),t._v(" "),n("el-tab-pane",{attrs:{label:"高内存使用容器",name:"containersWithHighMemoryUsage"}})],1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{size:"small",data:t.tableData,"max-height":"720"}},[n("el-table-column",{attrs:{label:"Name","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.metric.name)+"\n            ")]}}])}),t._v(" "),n("el-table-column",{attrs:{label:"UsageAmount",width:"400","show-overflow-tooltip":!0},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n              "+t._s(e.row.value[1])+"\n            ")]}}])})],1)],1),t._v(" "),n("el-tab-pane",{attrs:{label:" Swarm集群服务监控 ",name:"services"}},[n("iframe",{attrs:{src:t.promNodeUrl,height:"720",width:"100%",frameborder:"0",scrolling:"0"}})]),t._v(" "),n("el-tab-pane",{attrs:{label:" Swarm集群节点监控 ",name:"nodes"}},[n("iframe",{attrs:{src:t.promServiceUrl,height:"720",width:"100%",frameborder:"0",scrolling:"0"}})])],1)],1)])},staticRenderFns:[]};var U=n("C7Lr")(L,M,!1,function(t){n("y+J0")},null,null).exports,E=n("aozt"),H=n.n(E).a.create({baseURL:"http://localhost:8081"}),F=n("IHPB"),P=n.n(F),R=n("hRKE"),N=n.n(R);function O(t,e){var n=[];for(var r in t)t.hasOwnProperty(r)&&(e===r&&n.push(t[r]),"object"===N()(t[r])&&n.push.apply(n,P()(O(t[r],e))));return n}function W(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x"+e)}))}function T(t,e){return(t=Number(t))<102.4?t.toFixed(e)+"B/s":t<104857.6?(t/1024).toFixed(e)+"KB/s":t<107374182.4?(t/1048576).toFixed(e)+"MB/s":(t/1073741824).toFixed(e)+"GB/s"}var D,$,A,B,q=(D=w()(v.a.mark(function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H({method:"POST",url:"/endpoint/local/prom/api/v1/query",data:{query:'sum(rate(container_network_receive_bytes_total{id=~"/docker/.*"}['+n.promInterval+']) + rate(container_network_transmit_bytes_total{id=~"/docker/.*"}['+n.promInterval+"])) by (name) >"+n.netIOThreshold},headers:{Authorization:"Basic "+W(n.promAccount)}});case 2:if(200!==(e=t.sent).data.code){t.next=5;break}return t.abrupt("return",e.data.data.result.map(function(t){return t.value[1]&&(t.value[1]=T(t.value[1],2)),t}));case 5:case"end":return t.stop()}},t,this)})),function(){return D.apply(this,arguments)}),z=($=w()(v.a.mark(function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H({method:"POST",url:"/endpoint/local/prom/api/v1/query",data:{query:'sum(rate(container_fs_io_current{id=~"/docker/.*"}['+n.promInterval+"])) by (name) > "+n.diskIOThreshold},headers:{Authorization:"Basic "+W(n.promAccount)}});case 2:if(200!==(e=t.sent).data.code){t.next=5;break}return t.abrupt("return",e.data.data.result.map(function(t){return t.value[1]&&(t.value[1]=T(t.value[1],2)),t}));case 5:case"end":return t.stop()}},t,this)})),function(){return $.apply(this,arguments)}),K=(A=w()(v.a.mark(function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n.promInterval,n.cpuUsageThreshold,'sum(irate(container_cpu_usage_seconds_total{id=~"/docker/.*"}['+n.promInterval+"])) by (name) * 100 > "+n.cpuUsageThreshold),t.next=3,H({method:"POST",url:"/endpoint/local/prom/api/v1/query",data:{query:'sum(irate(container_cpu_usage_seconds_total{id=~"/docker/.*"}['+n.promInterval+"])) by (name) * 100 > "+n.cpuUsageThreshold},headers:{Authorization:"Basic "+W(n.promAccount)}});case 3:if(200!==(e=t.sent).data.code){t.next=6;break}return t.abrupt("return",e.data.data.result.map(function(t){return t.value[1]=Number(t.value[1]).toFixed(2)+"%",t}));case 6:case"end":return t.stop()}},t,this)})),function(){return A.apply(this,arguments)}),J=(B=w()(v.a.mark(function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H({method:"POST",url:"/endpoint/local/prom/api/v1/query",data:{query:'avg_over_time(container_memory_usage_bytes{id=~"/docker/.*"}['+n.promInterval+"]) > "+n.memoryUsageThreshold},headers:{Authorization:"Basic "+W(n.promAccount)}});case 2:if(200!==(e=t.sent).data.code){t.next=5;break}return t.abrupt("return",e.data.data.result.filter(function(t){return t.metric&&t.metric.name}).map(function(t){var e,n;return t.value[1]=(e=t.value[1],n=2,(e=Number(e))<102.4?e.toFixed(n)+"B/s":e<104857.6?(e/1024).toFixed(n)+"KB/s":e<107374182.4?(e/1048576).toFixed(n)+"MB/s":(e/1073741824).toFixed(n)+"GB/s"),t}));case 5:case"end":return t.stop()}},t,this)})),function(){return B.apply(this,arguments)}),Q=function(){var t=w()(v.a.mark(function t(){var e;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.get("/endpoint/local");case 2:if(200!==(e=t.sent).data.code){t.next=5;break}return t.abrupt("return",e.data.data);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),V=function(){var t=w()(v.a.mark(function t(){var e;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.get("/endpoint");case 2:if(200!==(e=t.sent).data.code){t.next=5;break}return t.abrupt("return",e.data.data);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),j=function(){var t=w()(v.a.mark(function t(){var e;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.get("/setting");case 2:if(200!==(e=t.sent).data.code){t.next=5;break}return t.abrupt("return",e.data.data);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),G={components:{EndpointsList:C,EndpointInfo:I,MonitorSummary:U},data:function(){return{nodesList:null,containersWithHignNetIO:[],containersWithHignDiskIO:[],containersWithHighCPUUsage:[],containersWithHighMemoryUsage:[],currentEndpointInfo:null,endpointList:[],settings:{}}},mounted:function(){var t=this;return w()(v.a.mark(function e(){var n,r,a,s,o,i,c,l;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchSettings();case 2:return t.settings=e.sent,e.next=5,f.a.all([q(t.settings),z(t.settings),K(t.settings),J(t.settings),Q(),V()]);case 5:n=e.sent,r=b()(n,6),a=r[0],s=r[1],o=r[2],i=r[3],c=r[4],l=r[5],t.containersWithHignNetIO=a,t.containersWithHignDiskIO=s,t.containersWithHighCPUUsage=o,t.containersWithHighMemoryUsage=i,t.currentEndpointInfo=c,t.endpointList=l;case 19:case"end":return e.stop()}},e,t)}))()},methods:{fetchSettings:function(){var t=this;return w()(v.a.mark(function e(){var n;return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n={},t.next=3,j();case 3:return t.sent.forEach(function(t){n[t.key]=t.value}),t.abrupt("return",n);case 6:case"end":return t.stop()}},e,t)}))()}}},Z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("monitor-summary",{staticClass:"monitor-info",attrs:{endpoint:t.currentEndpointInfo,containersWithHignNetIO:t.containersWithHignNetIO,containersWithHignDiskIO:t.containersWithHignDiskIO,containersWithHighCPUUsage:t.containersWithHighCPUUsage,containersWithHighMemoryUsage:t.containersWithHighMemoryUsage}}),t._v(" "),n("endpoint-info",{staticClass:"endpoint-info",attrs:{endpointInfo:t.currentEndpointInfo}}),t._v(" "),n("endpoints-list",{staticClass:"endpoint-list",attrs:{endpointList:t.endpointList}})],1)},staticRenderFns:[]};var Y=n("C7Lr")(G,Z,!1,function(t){n("bsme")},null,null).exports,X=function(){var t=w()(v.a.mark(function t(){var e;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.get("/endpoint/local/docker/containers/json");case 2:if(200!==(e=t.sent).data.code){t.next=5;break}return t.abrupt("return",e.data.data);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}();function tt(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var r in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e}var et={components:{},data:function(){return{containersList:null}},mounted:function(){var t=this;return w()(v.a.mark(function e(){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:n=e.sent,t.containersList=n.map(function(t){return{name:t.Names[0],state:t.State,stack:t.Labels["com.docker.stack.namespace"],image:t.Image,created:tt(new Date(1e3*t.Created),"yyyy-MM-dd hh:mm:ss"),endpoint:O(t.NetworkSettings.Networks,"EndpointID")}});case 4:case"end":return e.stop()}},e,t)}))()},methods:{}},nt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"containers-list"},[n("section",{staticClass:"card"},[n("h3",{staticClass:"sub-title"},[t._v("Container 列表")]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.containersList}},[n("el-table-column",{attrs:{type:"selection"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"Name","show-overflow-tooltip":!0}}),t._v(" "),n("el-table-column",{attrs:{prop:"state",label:"State",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"stack",label:"Stack",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"image",label:"Image","show-overflow-tooltip":!0,width:"240"}}),t._v(" "),n("el-table-column",{attrs:{prop:"created",label:"Created",width:"200"}}),t._v(" "),n("el-table-column",{attrs:{prop:"endpoint",label:"Endpoint","show-overflow-tooltip":!0,width:"180"}})],1)],1)])},staticRenderFns:[]};var rt=n("C7Lr")(et,nt,!1,function(t){n("F7Qs")},null,null).exports,at=function(){var t=w()(v.a.mark(function t(){var e;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.get("/endpoint/local/docker/services");case 2:if(200!==(e=t.sent).data.code){t.next=5;break}return t.abrupt("return",e.data.data);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),st={components:{},data:function(){return{servicesList:null}},mounted:function(){var t=this;return w()(v.a.mark(function e(){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at();case 2:n=e.sent,t.servicesList=n.map(function(t){var e=void 0,n=void 0,r=void 0;return t.Spec.Mode&&t.Spec.Mode.Replicated?(e="replicated",n=t.Spec.Mode.Replicated.Replicas,r=(t.PreviousSpec,n)):e="global",{name:t.Spec.Name,stack:t.Spec.Labels["com.docker.stack.namespace"]||null,image:t.Spec.TaskTemplate.ContainerSpec.Image,ports:t.Endpoint.Spec.Ports||[],schedulingMode:t.Spec.Mode,updateTime:tt(new Date(t.UpdatedAt),"yyyy-MM-dd hh:mm:ss"),mode:e,replicas:n,preReplicas:r}});case 4:case"end":return e.stop()}},e,t)}))()},methods:{},filters:{}},ot={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"services-list"},[n("section",{staticClass:"card"},[n("h3",{staticClass:"sub-title"},[t._v("Service 列表")]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.servicesList}},[n("el-table-column",{attrs:{type:"selection"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"",prop:"name",label:"Name","show-overflow-tooltip":!0}}),t._v(" "),n("el-table-column",{attrs:{prop:"stack",label:"Stack",width:"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"image",label:"Image","show-overflow-tooltip":!0,width:"240"}}),t._v(" "),n("el-table-column",{attrs:{label:"Ports"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("ul",{staticClass:"ports-list"},t._l(e.row.ports,function(e,r){return n("li",{key:r},[t._v("\n              "+t._s(e.TargetPort)+":"+t._s(e.PublishedPort)+"\n            ")])}),0)]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"schedulingMode",label:"Scheduling Mode",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",[t._v(t._s(e.row.mode)+"\n            "),"replicated"===e.row.mode?n("span",[t._v(t._s(e.row.preReplicas)+"/"+t._s(e.row.replicas))]):t._e()])]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"updateTime",label:"Last Update",width:"200"}})],1)],1)])},staticRenderFns:[]};var it=n("C7Lr")(st,ot,!1,function(t){n("MkFq")},null,null).exports,ct={components:{},props:{},data:function(){return{stacksList:null}},mounted:function(){var t=this;return w()(v.a.mark(function e(){var n,r,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at();case 2:n=e.sent,r=[],a=!1,n.forEach(function(t){var e=t.Spec.Labels["com.docker.stack.namespace"];r.forEach(function(n){e===n.name&&(a=!0,n.services.push(t))}),!a&&e&&r.push({name:e,services:[t],type:"swarm"})}),t.stacksList=r;case 7:case"end":return e.stop()}},e,t)}))()},methods:{}},lt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stacks-list"},[n("section",{staticClass:"card"},[n("h3",{staticClass:"sub-title"},[t._v("Stack 列表")]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.stacksList}},[n("el-table-column",{attrs:{type:"selection"}}),t._v(" "),n("el-table-column",{attrs:{fixed:"",prop:"name",label:"Name"}}),t._v(" "),n("el-table-column",{attrs:{prop:"type",label:"Type",width:"160"}}),t._v(" "),n("el-table-column",{attrs:{label:"Services",width:"320"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.row.services.length)+"\n        ")]}}])})],1)],1)])},staticRenderFns:[]};var ut=n("C7Lr")(ct,lt,!1,function(t){n("6oFO")},null,null).exports,dt=function(){var t=w()(v.a.mark(function t(){var e;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return v.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.get("/endpoint/local/docker/nodes");case 2:if(200!==(e=t.sent).data.code){t.next=5;break}return t.abrupt("return",e.data.data);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),pt={components:{},data:function(){return{nodesList:null}},mounted:function(){var t=this;return w()(v.a.mark(function e(){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dt();case 2:n=e.sent,t.nodesList=n.map(function(t){return{name:t.Description.Hostname,role:t.Spec.Role,nanoCPUs:t.Description.Resources.NanoCPUs,engine:t.Description.Engine.EngineVersion,address:t.Status.Addr,status:t.Status.State}});case 4:case"end":return e.stop()}},e,t)}))()},methods:{}},mt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nodes-list"},[n("section",{staticClass:"card"},[n("h3",{staticClass:"sub-title"},[t._v("Node 列表")]),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.nodesList}},[n("el-table-column",{attrs:{type:"selection"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"Name","show-overflow-tooltip":!0}}),t._v(" "),n("el-table-column",{attrs:{prop:"role",label:"Role",width:"160"}}),t._v(" "),n("el-table-column",{attrs:{prop:"nanoCPUs",label:"Nano CPUs",width:"200"}}),t._v(" "),n("el-table-column",{attrs:{prop:"engine",label:"Engine",width:"160"}}),t._v(" "),n("el-table-column",{attrs:{prop:"address",label:"IP Address",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"status",label:"Status",width:"180"}})],1)],1)])},staticRenderFns:[]};var vt=n("C7Lr")(pt,mt,!1,function(t){n("aTet")},null,null).exports;s.default.use(p.a);var ht=new p.a({routes:[{path:"/",redirect:"/home"},{path:"/home",name:"home",component:Y},{path:"/containers",name:"containersList",component:rt},{path:"/services",name:"servicesList",component:it},{path:"/stacks",name:"stacksList",component:ut},{path:"/swarm",name:"nodesList",component:vt}]});n("t0aP");s.default.use(a.a),new s.default({el:"#app",router:ht,components:{Layout:d},template:"<layout/>"})},PFFC:function(t,e){},VHI3:function(t,e){},"Z+Qt":function(t,e){},aTet:function(t,e){},bsme:function(t,e){},t0aP:function(t,e){},"y+J0":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.5262d4cc4b678fee89d1.js.map